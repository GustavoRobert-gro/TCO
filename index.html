<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCO - Cadastro</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">
    <h1>Cadastro de TCO</h1>
    <hr>

    <!-- Formulário Dados Gerais -->
    <h2>1º Dados Gerais</h2>
    <form id="formDadosGerais">
        <div class="date-group">
        <label for="numero_tco">Nº TCO:</label>
        <input type="text" id="numero_tco" value="0038" required style="width: 70px";>

        
        
        <label for="artigo">Artigo:</label>
        <input type="text" id="artigo" value="310" required style="width: 120px";>

        <label for="lei">Lei:</label>
        <input type="text" id="lei" value="" required style="width: 550px";>
        </div>

        <label for="naturezaa">Naturezaa:</label>
        <input type="text" id="naturezaa" value="" required style="width: 800px";>

    
       
        <div class="date-group">

            <label for="cidade">Cidade:</label>
        <select id="cidade" required style="width: 120px";>
            <option value="Denise-MT">Denise-MT</option>
            <option value="Barra do Bugres-MT">Barra do Bugres-MT</option>
            <option value="Nova Olimpia-MT">Nova Olimpia-MT</option>
            <option value="Porto Estrela-MT">Porto Estrela-MT</option>
            </select>

            <label for="dia">Dia:</label>
            <input type="text" id="dia" value= "26" required style="width: 40px";>
            
            <label for="mes">Mês:</label>
            <input type="text" id="mes" value="02" required style="width: 40px";>
            
            <label for="ano">Ano:</label>
            <input type="text" id="ano" value="2025" required style="width: 80px";>
        
            <label for="data_registro">Data do Registro:</label>
            <input type="date" id="data_registro" required>

            <script>
                // Obter a data atual no formato YYYY-MM-DD
                const today = new Date().toISOString().split('T')[0];
                
                // Definir o valor do campo como a data atual
                document.getElementById('data_registro').value = today;
            </script>

        
    
            <label for="hora_fato">Hr Fato:</label>
            <input type="text" id="hora_fato" value="00h00min" required>
        </div>

        <label for="quartel">Quartel:</label>
        <select id="quartel" required>
            <option value="NPM DENISE">Nucleo de policia Militar de Denise - MT</option>
            <option value="12ª CIPM">12ª CIPM de Barra do Bugres - MT</option>
            <option value="1ª CIPM">1ª CIPM de Nova Olimpia - MT</option>
            <option value="NPM PORTO ESTRELA">Nucleo de Policia Militar de Porto Estrela-MT</option>
            </select>
    
        

        <div class="date-group">
        <label for="nome_completo">Nome Completo do condutor:</label>
<select id="nome_completo" required>
<option value="GUSTAVO ROBERT DE OLIVEIRA">Gustavo Robert de Oliveira</option>
<option value="JOÃO SILVA">JOÃO SILVA</option>
<option value="MARIA FERREIRA">MARIA FERREIRA</option>
<option value="ANTONIO SOUZA">ANTONIO SOUZA</option>
</select>
        

        <label for="posto_grad">Posto/Grad:</label>
        <select id="posto_grad" required>
            <option value="CEL-PMMT">CEL-PMMT</option>
            <option value="TEN Cel-PMMT">TEN Cel-PMMT</option>
            <option value="MAJOR-PMMT">MAJOR-PMMT</option>
            <option value="CAP-PMMT">CAP-PMMT</option>
            <option value="TEN-PMMT">TEN-PMMT</option>
            <option value="SUB TEN-PMMT">SUB TEN-PMMT</option>
            <option value="1º SGT-PMMT">1º SGT-PMMT</option>
            <option value="2º SGT-PMMT">2º SGT-PMMT</option>
            <option value="3º SGT-PMMT">3º SGT-PMMT</option>
            <option value="CB-PMMT">CB-PMMT</option>
            <option value="SD-PMMT">SD-PMMT</option>
        
        </select>

        <label for="rg">RGPM:</label>
        <input type="text" id="rg" value="885.812" required style="width: 120px";>

        
        
        
        <label for="cep">CEP:</label>
        <input type="text" id="cep" value="78.380-000" required style="width: 90px";>

        </div>

        

        

        
        <div class="date-group">

        <label for="endereco">ENDEREÇO:</label>
        <input type="text" id="endereco" value="endereço do local do fato" required style="width: 800px";>
        </div>

        <div class="date-group"></div>

        <label for="local_fato">LOCAL DO FATO:</label>
        <input type="text" id="local_fato" value="AVENIDA JULIO CAMPOS" required style="width: 800px";>
    </div>
    <div class="date-group"></div>
        <label for="ponto_referencia">PONTO DE REFERRÊNCIA:</label>
        <input type="text" id="ponto_referencia" value="Proximo do que ?" required style="width: 800px";>
        
</div>
<div class="date-group"></div>
        <label for="comunicante">COMUNICANTE:</label>
        <input type="text" id="comunicante" value="" required style="width: 800px";>
</div>

        <hr>
       
        <label for="relato_policial_correto">RELATO DO POLICIAL:</label>
        <textarea  class="form-control" id="relato_policial_correto" value="tets" rows="10">
        Às _________h do dia _________, fomos solicitados por ____________________(relatar nome do solicitante/copom) ou deparamos com (relatar a situação), informando que (relatar a situação informada ou detectada), e em decorrência do fato dei voz de prisão a _______________, (informar outras providências adotadas, tais como: condução de vítimas ao hospital ao Conselho tutelar ou outras repartições), conduzindo os envolvidos para _________________(a Central de Operações da Polícia Militar/UPM) para adoção das providências legais.
        </textarea>
    
        
        



                
    </form>
    <hr>





    <!-- Cadastro de Autor -->
    <h2>2º Cadastro de Autor do Fato</h2>
    <form id="formAutor">
        <div id="pessoasAutor"></div>
        <button type="button" class="btn btn-primary mt-3" onclick="adicionarPessoa('Autor')">Adicionar Autor</button>
    </form>
    <hr>

    <!-- Cadastro de Vítima -->
    <h2>3º Cadastro de Vítima / Testemunha</h2>
    <form id="formVitima">
        <div id="pessoasVitima"></div>
        <button type="button" class="btn btn-primary mt-3" onclick="adicionarPessoa('Vitima')">Adicionar Vítima</button>
        <button type="button" class="btn btn-primary mt-3" onclick="adicionarPessoa('Testemunha')">Adicionar Testemunha</button>
    <hr>



    

    <button type="button" class="btn btn-success mt-3" onclick="gerarPDF()">Gerar PDF Completo</button>

    <script>
        let contadorAutor = 1;
        let contadorVitima = 1;
        let contadorTestemunha = 1;

        function adicionarPessoa(tipo) {
            const container = tipo === 'Autor' ? document.getElementById('pessoasAutor') : document.getElementById('pessoasVitima') ; 
            document.getElementById("testemunha") ;

            const contador = tipo === 'Autor' ? contadorAutor++ : contadorVitima++ ; contadorTestemunha++ ;

            const divPessoa = document.createElement('div');
            divPessoa.classList.add('pessoa', 'border', 'p-3', 'mb-3');
            divPessoa.innerHTML = `
                <h4>${tipo} ${contador}</h4>
                <label>Nome</label>
                <input type="text" class="form-control" name="nome_${tipo.toLowerCase()}[]" value="Digite o nome">
                
                <label>Nome Social</label>
                <input type="text" class="form-control" name="nome_social_${tipo.toLowerCase()}[]" placeholder="Digite o nomeSocial">
                
                <label>Cpf ou Passaporte</label>
                <input type="text" class="form-control" name="cpf_passaporte_${tipo.toLowerCase()}[]" placeholder="Digite o CPF ou Passaporte">
               
                <label>RG/CNH Nº</label>
                <input type="text" class="form-control" name="rg_cnh_${tipo.toLowerCase()}[]" placeholder="Digite o RG ou CNH">

                <label>ÓRGÃO EXPEDITOR</label>
                <input type="text" class="form-control" name="rg_cnh_orgao_exp_${tipo.toLowerCase()}[]" placeholder="Digite o orgão expeditor">
                
                <label>DATA DE EXPEDIÇÃO</label>
                <input type="text" class="form-control" name="data_expedicao_${tipo.toLowerCase()}[]" placeholder="Digite a data de expedição">

               <label>UF</label>
                <input type="text" class="form-control" name="data_expedicao_uf_${tipo.toLowerCase()}[]" placeholder="Digite o estado de expedição do documento">

                <label>FILIAÇÃO</label>
                <input type="text" class="form-control" name="filiacao_${tipo.toLowerCase()}[]" placeholder="Digite a filiação">

                <label>ENDEREÇO</label>
                <input type="text" class="form-control" name="endereco_${tipo.toLowerCase()}[]" placeholder="Digite o endereço">

                <label>MUNICIPIO</label>
                <input type="text" class="form-control" name="municipio_${tipo.toLowerCase()}[]" value="DENISE">

                <label>UF</label>
                <input type="text" class="form-control" name="uf_municipio_${tipo.toLowerCase()}[]" value="MT">

                <label>CEP</label>
                <input type="text" class="form-control" name="cep_municipio_${tipo.toLowerCase()}[]" value="78.380-000">

                <label>PONTO DE REFERÊNCIA</label>
                <input type="text" class="form-control" name="ponto_referencia_endereco_${tipo.toLowerCase()}[]" placeholder="Digite um ponto de referência do endereço">

                <label>TELEFONE</label>
                <input type="text" class="form-control" name="telefone_${tipo.toLowerCase()}[]" placeholder="Digite os telefones de contato">
               
                <label>E-MAIL PESSOAL</label>
                <input type="text" class="form-control" name="e-mail_${tipo.toLowerCase()}[]" placeholder="Digite o e-mail pessoal">
               
                <label>ESTADO CIVIL</label>
                <input type="text" class="form-control" name="estado_civil_${tipo.toLowerCase()}[]" placeholder="Digite o estado civil">
               
                <label>NACIONALIDADE</label>
                <input type="text" class="form-control" name="nacionalidade_${tipo.toLowerCase()}[]" placeholder="Digite o estado civil">
               
                <label>NATURALIDADE</label>
                <input type="text" class="form-control" name="naturalidade_${tipo.toLowerCase()}[]" placeholder="Digite a nacionalidade">
               
                <label>UF</label>
                <input type="text" class="form-control" name="naturalidadeuf_${tipo.toLowerCase()}[]" placeholder="Digite a naturalidade">
               
                <label>DATA NASC:</label>
                <input type="text" class="form-control" name="datanascimento_${tipo.toLowerCase()}[]" placeholder="Digite a data de nascimento">
               

                <label>SEXO</label>
                <input type="text" class="form-control" name="sexo_${tipo.toLowerCase()}[]" value="MASCULINO">
               
                <label>ATIVIDADE - PROFISSÃO</label>
                <input type="text" class="form-control" name="profissao_${tipo.toLowerCase()}[]" placeholder="Digite a profissão">
               
                <label>CONDIÇÕES FISICAS</label>
                <input type="text" class="form-control" name="local_trabalho_${tipo.toLowerCase()}[]" value="sem lesão">
               

           <label>RELATO</label>
<textarea class="form-control" name="relato_${tipo.toLowerCase()}[]" value="tets" rows="10">O (((autor dos fatos) ou (vitima tal) ou (testemunha tal))), cientificado de seus direitos constitucionais, inclusive o de permanecer calado, declarou Que (declinar o relato dos fatos abreviadamente, fazendo perguntas acerca do fato, porém declinando apenas a resposta antecedida da palavra (Que).... ex: Que realmente abordou a vítima próximo de sua casa; Que não xingou a vítima, apenas disse que suas atitudes era desse tipo de pessoa) Lido e achado conforme. Nada mais disse e nem lhe foi perguntado(a).</textarea>	

                
                
               
     







                
                <button type="button" class="btn btn-danger mt-2" onclick="removerPessoa(this)">Remover</button>`;

            container.appendChild(divPessoa);
        }

        function removerPessoa(botao) {
            botao.parentElement.remove();
        }

        function gerarPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            const numero_tco = parseInt(document.getElementById('numero_tco').value);
            const naturezaa = document.getElementById('naturezaa').value;
            const artigo = document.getElementById("artigo").value
            const lei = document.getElementById("lei").value;
            const dia = parseInt(document.getElementById('dia').value);
            const mes = parseInt(document.getElementById('mes').value);
            const ano = document.getElementById('ano').value;
            const cidade = document.getElementById('cidade').value;
            const quartel = document.getElementById('quartel').value;
            const nome_completo = document.getElementById('nome_completo').value;
            const posto_grad = document.getElementById('posto_grad').value;
            const rg = document.getElementById('rg').value;
            const hora_fato = document.getElementById('hora_fato').value;
            //const data_fato = document.getElementById('data_fato').value;
            const data_registro = document.getElementById('data_registro').value;
            const endereco = document.getElementById('endereco').value;
            const comunicante = document.getElementById('comunicante').value;
            const ponto_referencia = document.getElementById('ponto_referencia').value;
            const cep = document.getElementById("cep").value;


            const numerosPorExtenso = {
            1: 'um', 2: 'dois', 3: 'três', 4: 'quatro', 5: 'cinco', 6: 'seis', 7: 'sete', 8: 'oito', 9: 'nove',
            10: 'dez', 11: 'onze', 12: 'doze', 13: 'treze', 14: 'quatorze', 15: 'quinze', 16: 'dezesseis',
            17: 'dezessete', 18: 'dezoito', 19: 'dezenove', 20: 'vinte', 21: 'vinte e um', 22: 'vinte e dois',
            23: 'vinte e três', 24: 'vinte e quatro', 25: 'vinte e cinco', 26: 'vinte e seis', 27: 'vinte e sete',
            28: 'vinte e oito', 29: 'vinte e nove', 30: 'trinta', 31: 'trinta e um'
        };

        const mesesPorExtenso = {
            1: 'janeiro', 2: 'fevereiro', 3: 'março', 4: 'abril', 5: 'maio', 6: 'junho', 7: 'julho', 8: 'agosto',
            9: 'setembro', 10: 'outubro', 11: 'novembro', 12: 'dezembro'
        };

        function converterAnoParaExtenso(ano) {
            return ano.split('').map(num => numerosPorExtenso[parseInt(num)]).join(' ');
        }



           

            function adicionarCabecalho() {
                const img = new Image();
            img.src = 'https://upload.wikimedia.org/wikipedia/commons/7/7f/Bras%C3%A3o_PMMT.PNG';
            doc.addImage(img, 'PNG', 93, 5, 20, 20);
            doc.setFont("helvetica", "bold");
            doc.setFontSize(10);
            doc.text("ESTADO DE MATO GROSSO", 103, 30, { align: "center" });
            doc.text("POLÍCIA MILITAR", 103, 35, { align: "center" });
            doc.text("TERMO CIRCUNSTANCIADO DE OCORRÊNCIA Nº TCO/CR07/" +"/"+document.getElementById('ano').value+"."+ parseInt(document.getElementById('numero_tco').value), 103, 47, { align: "center" });
            
                doc.line(10, 38, 200, 38);
            }

            function adicionarRodape() {
            doc.setFontSize(8);
            //doc.text("_______________________________________________________________________________________________________________", 105, 281, { align: "center" });
            doc.line(10, 281, 200, 281);
            doc.text("NUCLEO DE POLICIA MILITAR DE DENISE", 105, 285, { align: "center" });
            doc.text("Rua Piaui - Bairro centro - Denise-MT - CEP 78.380-000", 105, 288, { align: "center" });
            doc.text("Fone: (65) 98170 0447 | E-mail: npmdenise@pm.mt.gov.br", 105, 291, { align: "center" });
        }

            adicionarCabecalho();
            adicionarRodape()
            doc.setFontSize(12);

            
           // doc.text("teste numero de tco",10, y)

            doc.text("AUTUAÇÃO", 105, 100, { align: "center" });

const diaExtenso = numerosPorExtenso[dia];
  const mesExtenso = mesesPorExtenso[mes];
const anoExtenso = converterAnoParaExtenso(ano);


let texto = `Aos ${diaExtenso} dias do mês de ${mesExtenso} do ano de ${anoExtenso}, nesta cidade de ${cidade}, Estado de Mato Grosso, no Quartel do ${quartel}, autuo as peças que adiante se seguem, do que para constar, lavrei este Termo. Eu, ${nome_completo} (${posto_grad}), escrevente, que o lavrei e assino.`;


doc.setFont("helvetica", "normal");
doc.text(texto, 20, 120, { maxWidth: 175, align: 'justify'});


doc.setFont("helvetica", "bold");
let texto2 =` ${nome_completo} - ${posto_grad} `;
doc.text(texto2, 103, 200,{ align: "center" });

let texto3 = `RG nº ${rg} PMMT`;
doc.text(texto3, 103, 206,{ align: "center" });



//-------------------------------------------------
 // inicio da segunda pagina
 doc.addPage();
            
 adicionarCabecalho()
 adicionarRodape()
            doc.setFontSize(14);
doc.text("A- DADOS GERAIS:", 30, 60, { maxWidth: 170, align: 'justify' });
doc.setFontSize(10);

//doc.text("NATUREZA DA OCORRÊNCIA: " + naturezaa, 20, 90, { maxWidth: 170, align: 'justify' });
// Texto em negrito
doc.setFont("helvetica", "bold");
doc.text("NATUREZA DA OCORRÊNCIA: ", 20, 70, { maxWidth: 170, align: 'justify' });
doc.text("TIPIFICAÇÃO LEGAL: ", 20, 85, { maxWidth: 170, align: 'justify' });
doc.text("DATA DO FATO: ", 20, 90, { maxWidth: 170, align: 'justify' });
doc.text("DATA DO REGISTRO:", 130, 90, { maxWidth: 170, align: 'justify' });
doc.text("HORA DO FATO: ", 20, 95, { maxWidth: 170, align: 'justify' });
doc.text("ENDEREÇO: ", 20, 100, { maxWidth: 170, align: 'justify' });
doc.text("CEP:", 130, 105, { maxWidth: 170, align: 'justify' });
doc.text("MUNICIPIO: ", 20, 105, { maxWidth: 170, align: 'justify' });
doc.text("PONTO DE REFERRÊNCIA: ", 20, 110, { maxWidth: 170, align: 'justify' });
// Texto normal (a variável `naturezaa`)
doc.setFont("helvetica", "normal");
//doc.text(" " + naturezaa, 20 + doc.getTextWidth("NATUREZA DA OCORRÊNCIA: "), 70, { maxWidth: 870, align: 'justify' });
doc.text(" " + artigo + " " + lei, 20 + doc.getTextWidth("TIPIFICAÇÃO LEGAL: "), 85, { maxWidth: 170, align: 'justify' });
doc.text(" " + data_registro, 10 + doc.getTextWidth("DATA DO REGISTRO: "), 90, { maxWidth: 170, align: 'justify' });
doc.text(" " + data_registro, 130 + doc.getTextWidth("DATA DO REGISTRO: "), 90, { maxWidth: 170, align: 'justify' });
doc.text(" " + hora_fato, 20 + doc.getTextWidth("HORA DO FATO: "), 95, { maxWidth: 170, align: 'justify' });
doc.text(" " + endereco, 20 + doc.getTextWidth("ENDEREÇO: "), 100, { length:24, maxWidth: 170, align: 'justify' });
doc.text(" " + cep, 130 + doc.getTextWidth("CEP: "), 105, { length:24, maxWidth: 170, align: 'justify' });
doc.text(" " + cidade, 20 + doc.getTextWidth("MUNICIPIO: "), 105, { length:24, maxWidth: 170, align: 'justify' });
doc.text(" " + ponto_referencia, 20 + doc.getTextWidth("PONTO DE REFERRÊNCIA: "), 110, { length:24, maxWidth: 170, align: 'justify' });      

let natuureza = naturezaa;


doc.setFont("helvetica", "normal");
doc.text(natuureza, 20, 75, { maxWidth: 175, align: 'justify'});
          
            // fim da segundapagina
          //------------------------------------------




           


        let y2 = 20; // Posição inicial na página
       const limitePagina = 270; // Altura máxima antes de adicionar nova página





       

            
            let y = 140;
            doc.setFontSize(14);
            doc.setFont("helvetica", "bold");
            doc.text("B- ENVOLVIDOS:", 30, y);
            y += 20;
            doc.setFontSize(10);
            //doc.setFont("helvetica", "bold");


            document.getElementsByName("nome_autor[]").forEach((input, index) => {
    const nomeAutor = input.value;
    const nomeSocial = document.getElementsByName("nome_social_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const cpfAutor = document.getElementsByName("cpf_passaporte_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const rgcnhAutor = document.getElementsByName("rg_cnh_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const rgcnhorgaoexpAutor = document.getElementsByName("rg_cnh_orgao_exp_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const dataexpedicaoAutor = document.getElementsByName("data_expedicao_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const dataexpedicaoufAutor = document.getElementsByName("data_expedicao_uf_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const filiacaoAutor = document.getElementsByName("filiacao_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const enderecoAutor = document.getElementsByName("endereco_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const municipioAutor = document.getElementsByName("municipio_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const ufmunicipioAutor = document.getElementsByName("uf_municipio_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const cepmunicipioAutor = document.getElementsByName("cep_municipio_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const pontoreferenciaenderecoAutor = document.getElementsByName("ponto_referencia_endereco_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const telefoneAutor = document.getElementsByName("telefone_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const emailAutor = document.getElementsByName("e-mail_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const sexoAutor = document.getElementsByName("sexo_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const estadocivillAutor = document.getElementsByName("estado_civil_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const nacionalidadeAutor = document.getElementsByName("nacionalidade_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
const naturalidadeAutor = document.getElementsByName("naturalidade_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
const naturalidadeufAutor = document.getElementsByName("naturalidadeuf_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const datanasciAutor = document.getElementsByName("datanascimento_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
   const profissaoAutor = document.getElementsByName("profissao_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
   const localtrabalhoAutor = document.getElementsByName("local_trabalho_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
   const relatoAutor = document.getElementsByName("relato_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"

   function verificapagina() {
    if (y > 270) {
            doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(10);
            y = 60; // Reinicia a posição no topo da nova página
    }
        }
    

    if (y > 270) {
            doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(10);
            y = 60; // Reinicia a posição no topo da nova página
           // doc.setFontSize(10);
    doc.text(`${index + 1}º) AUTOR DO FATO: ${nomeAutor}`, 20, y);
    doc.line(10, y+1, 200, y+1);
    }
    verificapagina()
    doc.text(`${index + 1}º) AUTOR DO FATO: ${nomeAutor}`, 20, y);   
    doc.line(10, y+1, 200, y+1);
    y += 6;
    verificapagina()
    doc.text(`   NOME SOCIAL: ${nomeSocial}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
    doc.text(`   CPF: ${cpfAutor}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
    doc.text(`   RG/CNH: ${rgcnhAutor}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    
    doc.text(`   ORGÃO EXPEDITOR: ${rgcnhorgaoexpAutor}`, 120, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
    doc.text(`   DATA DE EXPEDIÇÃO: ${dataexpedicaoAutor}`, 20, y);
    
    doc.text(`   UF: ${dataexpedicaoAutor}`, 120, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
    doc.text(`   FILIAÇÃO: ${filiacaoAutor}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
    doc.text(`   ENDEREÇO: ${enderecoAutor}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
    doc.text(`   MUNICIPIO: ${municipioAutor}`, 20, y);
    
    doc.text(`   UF: ${ufmunicipioAutor}`, 120, y);
    
    doc.text(`   CEP: ${cepmunicipioAutor}`, 140, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
    doc.text(`   PONTO DE REFERÊNCIA: ${pontoreferenciaenderecoAutor}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
    doc.text(`   TELEFONE: ${telefoneAutor}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
    doc.text(`   E-MAIL PESSOAL: ${emailAutor}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
    doc.text(`   ESTADO CIVIL: ${estadocivillAutor}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
    doc.text(`   NACIONALIDADE: ${nacionalidadeAutor}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    doc.text(`   NATURALIDADE: ${naturalidadeAutor}`, 70, y);
    doc.text(`   UF: ${naturalidadeufAutor}`, 140, y);
    y += 6;
    verificapagina()


    doc.text(`   DATA NASC: ${datanasciAutor}`, 20, y)
    doc.line(20, y+1, 200, y+1);
   doc.text(`   SEXO: ${sexoAutor}`, 70, y);
    y += 6;
    verificapagina()
   doc.text(`   PROFISSÃO: ${profissaoAutor}`, 20, y);
   doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
    
   doc.text(`   LOCAL DE TRABALHO: ${profissaoAutor}`, 20, y);
   doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina()
   //doc.text(`   RELATO DO AUTOR DO FATO: ${relatoAutor}`, 20, y);
    y += 15;
   // doc.line(10, y, 200, y);
    
    
});



function verificapagina2() {
    if (y > 270) {
            doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(10);
            y = 60; // Reinicia a posição no topo da nova página
    }
        }

           
doc.setFontSize(10);

            document.getElementsByName("nome_vitima[]").forEach((input, index) => {
           // doc.text(`${index + 1}. ${input.value}`, 10, y);
            const nomeVitima = input.value;
            const nomeSocialVitima = document.getElementsByName("nome_social_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
            const cpfVitima = document.getElementsByName("cpf_passaporte_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const rgcnhVitima = document.getElementsByName("rg_cnh_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const rgcnhorgaoexpVitima = document.getElementsByName("rg_cnh_orgao_exp_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const dataexpedicaoVitima = document.getElementsByName("data_expedicao_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const dataexpedicaoufVitima = document.getElementsByName("data_expedicao_uf_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const filiacaoVitima = document.getElementsByName("filiacao_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const enderecoVitima = document.getElementsByName("endereco_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const municipioVitima = document.getElementsByName("municipio_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const ufmunicipioVitima = document.getElementsByName("uf_municipio_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const cepmunicipioVitima = document.getElementsByName("cep_municipio_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const pontoreferenciaenderecoVitima = document.getElementsByName("ponto_referencia_endereco_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const telefoneVitima = document.getElementsByName("telefone_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const emailVitima = document.getElementsByName("e-mail_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const sexoVitima = document.getElementsByName("sexo_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const estadocivilVitima = document.getElementsByName("estado_civil_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const nacionalidadeVitima = document.getElementsByName("nacionalidade_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
const naturalidadeVitima = document.getElementsByName("naturalidade_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
const naturalidadeufVitima = document.getElementsByName("naturalidadeuf_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const datanasciVitima = document.getElementsByName("datanascimento_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
   const profissaoVitima = document.getElementsByName("profissao_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
   const localtrabalhoVitima = document.getElementsByName("local_trabalho_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
   const relatoVitima = document.getElementsByName("relato_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"


           verificapagina2()
            doc.setFontSize(10);
            
            
            doc.text(`   ${index + 1}º) VITIMA: ${nomeVitima}`, 20, y); 
             doc.line(10, y+1, 200, y+1);
            y += 6;   
            verificapagina2()
           
            doc.text(`   NOME SOCIAL: ${nomeSocialVitima}`, 20, y); 
             doc.line(20, y+1, 200, y+1);
            y += 6;   
            verificapagina2()
            
            
    doc.text(`   CPF: ${cpfVitima}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina2()
    doc.text(`   RG/CNH: ${rgcnhVitima}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    
    doc.text(`   ORGÃO EXPEDITOR: ${rgcnhorgaoexpVitima}`, 120, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina2()
    doc.text(`   DATA DE EXPEDIÇÃO: ${dataexpedicaoVitima}`, 20, y);
    
    doc.text(`   UF: ${dataexpedicaoufVitima}`, 120, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina2()
    doc.text(`   FILIAÇÃO: ${filiacaoVitima}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina2()
    doc.text(`   ENDEREÇO: ${enderecoVitima}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina2()
    doc.text(`   MUNICIPIO: ${municipioVitima}`, 20, y);
    
    doc.text(`   UF: ${ufmunicipioVitima}`, 120, y);
    
    doc.text(`   CEP: ${cepmunicipioVitima}`, 140, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina2()
    doc.text(`   PONTO DE REFERÊNCIA: ${pontoreferenciaenderecoVitima}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina2()
    doc.text(`   TELEFONE: ${telefoneVitima}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina2()
    doc.text(`   E-MAIL PESSOAL: ${emailVitima}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina2()
    doc.text(`   ESTADO CIVIL: ${estadocivilVitima}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina2()
    doc.text(`   NACIONALIDADE: ${nacionalidadeVitima}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    doc.text(`   NATURALIDADE: ${naturalidadeVitima}`, 70, y);
    doc.text(`   UF: ${naturalidadeufVitima}`, 140, y);
    y += 6;
    verificapagina2()


    doc.text(`   DATA NASC: ${datanasciVitima}`, 20, y)
    doc.line(20, y+1, 200, y+1);
   doc.text(`   SEXO: ${sexoVitima}`, 70, y);
    y += 6;
    verificapagina2()
   doc.text(`   PROFISSÃO: ${profissaoVitima}`, 20, y);
   doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina2()
    
   doc.text(`   LOCAL DE TRABALHO: ${profissaoVitima}`, 20, y);
   doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina2()
   //doc.text(`   RELATO DO AUTOR DO FATO: ${relatoAutor}`, 20, y);
    y += 15;


            });

            


            function verificapagina3() {
    if (y > 270) {
            doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(10);
            y = 60; // Reinicia a posição no topo da nova página
    }
        }


doc.setFontSize(10);
            
            document.getElementsByName("nome_testemunha[]").forEach((input, index) => {
                const nomeTestemunha = input.value;
            const nomeSocialTestemunha = document.getElementsByName("nome_social_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
            const cpfTestemunha = document.getElementsByName("cpf_passaporte_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const rgcnhTestemunha = document.getElementsByName("rg_cnh_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const rgcnhorgaoexpTestemunha = document.getElementsByName("rg_cnh_orgao_exp_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const dataexpedicaoTestemunha = document.getElementsByName("data_expedicao_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const dataexpedicaoufTestemunha = document.getElementsByName("data_expedicao_uf_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const filiacaoTestemunha = document.getElementsByName("filiacao_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const enderecoTestemunha = document.getElementsByName("endereco_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const municipioTestemunha = document.getElementsByName("municipio_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const ufmunicipioTestemunha = document.getElementsByName("uf_municipio_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const cepmunicipioTestemunha = document.getElementsByName("cep_municipio_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const pontoreferenciaenderecoTestemunha = document.getElementsByName("ponto_referencia_endereco_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const telefoneTestemunha = document.getElementsByName("telefone_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const emailTestemunha = document.getElementsByName("e-mail_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const sexoTestemunha = document.getElementsByName("sexo_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const estadocivilTestemunha = document.getElementsByName("estado_civil_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const nacionalidadeTestemunha = document.getElementsByName("nacionalidade_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
const naturalidadeTestemunha = document.getElementsByName("naturalidade_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
const naturalidadeufTestemunha = document.getElementsByName("naturalidadeuf_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
    const datanasciTestemunha = document.getElementsByName("datanascimento_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
   const profissaoTestemunha = document.getElementsByName("profissao_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
   const localtrabalhoTestemunha = document.getElementsByName("local_trabalho_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
   const relatoTestemunha = document.getElementsByName("relato_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"




   verificapagina3()
            doc.setFontSize(10);
            
            
            doc.text(`   ${index + 1}º) TESTEMUNHA: ${nomeTestemunha}`, 20, y); 
             doc.line(10, y+1, 200, y+1);
            y += 6;   
            verificapagina3()
           
            doc.text(`   NOME SOCIAL: ${nomeSocialTestemunha}`, 20, y); 
             doc.line(20, y+1, 200, y+1);
            y += 6;   
            verificapagina3()
            
            
    doc.text(`   CPF: ${cpfTestemunha}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina3()
    doc.text(`   RG/CNH: ${rgcnhTestemunha}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    
    doc.text(`   ORGÃO EXPEDITOR: ${rgcnhorgaoexpTestemunha}`, 120, y);
   
    y += 6;
    verificapagina3()
    doc.text(`   DATA DE EXPEDIÇÃO: ${dataexpedicaoTestemunha}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    doc.text(`   UF: ${dataexpedicaoufTestemunha}`, 120, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina3()
    doc.text(`   FILIAÇÃO: ${filiacaoTestemunha}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina3()
    doc.text(`   ENDEREÇO: ${enderecoTestemunha}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina3()
    doc.text(`   MUNICIPIO: ${municipioTestemunha}`, 20, y);
    
    doc.text(`   UF: ${ufmunicipioTestemunha}`, 120, y);
   
    doc.text(`   CEP: ${cepmunicipioTestemunha}`, 140, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina3()
    doc.text(`   PONTO DE REFERÊNCIA: ${pontoreferenciaenderecoTestemunha}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina3()
    doc.text(`   TELEFONE: ${telefoneTestemunha}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina3()
    doc.text(`   E-MAIL PESSOAL: ${emailTestemunha}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina3()
    doc.text(`   ESTADO CIVIL: ${estadocivilTestemunha}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina3()
    doc.text(`   NACIONALIDADE: ${nacionalidadeTestemunha}`, 20, y);
    doc.line(20, y+1, 200, y+1);
    doc.text(`   NATURALIDADE: ${naturalidadeTestemunha}`, 70, y);
    doc.text(`   UF: ${naturalidadeufTestemunha}`, 140, y);
    y += 6;
    verificapagina3()


    doc.text(`   DATA NASC: ${datanasciTestemunha}`, 20, y)
    doc.line(20, y+1, 200, y+1);
   doc.text(`   SEXO: ${sexoTestemunha}`, 70, y);
    y += 6;
    verificapagina3()
   doc.text(`   PROFISSÃO: ${profissaoTestemunha}`, 20, y);
   doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina3()
    
   doc.text(`   LOCAL DE TRABALHO: ${profissaoTestemunha}`, 20, y);
   doc.line(20, y+1, 200, y+1);
    y += 6;
    verificapagina3()
   //doc.text(`   RELATO DO AUTOR DO FATO: ${relatoTestemunha}`, 20, y);
    y += 15;

    verificapagina3()

            });

                 //-------------------------------------------------------
      function verificapagina7() {
    if (y > 260) {
            doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(10);
            y = 60; // Reinicia a posição no topo da nova página
    }
        }
verificapagina7()

doc.setFont("helvetica", "bold");
doc.setFontSize(14);
            doc.text("C- HISTORICO:", 30, y);
            y += 20;
            doc.setFontSize(10);
            verificapagina4()


            const relatoCondutorCorreto = document.getElementById("relato_policial_correto").value;
          const nomeCondutor = document.getElementById("nome_completo").value
          const rgPM = document.getElementById("rg").value
          
          let textoRelatoCondutor = relatoCondutorCorreto
          
          const linhas4 = doc.splitTextToSize(textoRelatoCondutor, 175);
          // Número de linhas geradas
const numeroDeLinhas4 = linhas4.length;
const numeroDeLinhasmultiplcado4 = linhas4.length * 6;

          verificapagina7()
          

          if (y + numeroDeLinhasmultiplcado4 + 15 > 270) {
            doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(10);
            y = 60; // Reinicia a posição no topo da nova página
    }


          doc.setFont("helvetica", "bold");
          doc.text(`Relato do Condutor da ocorrência: ${nomeCondutor} `, 100, y, { align: "center" });
             doc.line(10, y+1, 200, y+1);
             
            y += 15;
             verificapagina7()
doc.setFont("helvetica", "normal");
doc.text(textoRelatoCondutor, 20, y, { maxWidth: 175, align: 'justify'});

y += numeroDeLinhas4 * 7;
y += 10;
doc.text(`__________________________________________________`, 100, y-4, { align: "center" });
doc.text(`   ${nomeCondutor}- ${posto_grad}`, 100, y, { align: "center" });
y += 5;
doc.text(`  RGPM: ${rgPM}`, 100, y, { align: "center" });
y += 10;
verificapagina7()
               


           


            
            function verificapagina4() {
    if (y > 260) {
            doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(10);
            y = 60; // Reinicia a posição no topo da nova página
    }
        }
verificapagina4()


document.getElementsByName("nome_vitima[]").forEach((input, index) => {
                const nomeVVitima = input.value;
            const relatoVitimacorreto = document.getElementsByName("relato_vitima[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
const cpfVVitima = document.getElementsByName("cpf_passaporte_vitima[]")[index]?.value || "N/A"; // Se não houver nome social,
          
          let textoRelatoVitima = relatoVitimacorreto 
          
          const linhas = doc.splitTextToSize(textoRelatoVitima, 175);
          // Número de linhas geradas
const numeroDeLinhas = linhas.length;
const numeroDeLinhasmultiplcado = linhas.length * 6;

          verificapagina4()
          

          if (y + numeroDeLinhasmultiplcado + 15 + 15> 270) {
            doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(10);
            y = 60; // Reinicia a posição no topo da nova página
    }


          doc.setFont("helvetica", "bold");
          doc.text(`    Relato da vitima (${index + 1}): ${nomeVVitima}`, 100, y, { align: "center" }); 
             doc.line(10, y+1, 200, y+1);
             
            y += 15;
             verificapagina4()
doc.setFont("helvetica", "normal");
doc.text(textoRelatoVitima, 20, y, { maxWidth: 175, align: 'justify'});



y += numeroDeLinhas * 7;


y += 10;
doc.text(`__________________________________________________`, 100, y-4, { align: "center" });
doc.text(`   ${nomeVVitima}`, 100, y, { align: "center" });
y += 5;
doc.text(`  CPF: ${cpfVVitima}`, 100, y, { align: "center" });
y += 10;
verificapagina4()
               


});





//-------------------------------------------------------
function verificapagina5() {
    if (y > 260) {
            doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(10);
            y = 60; // Reinicia a posição no topo da nova página
    }
        }
verificapagina5()


document.getElementsByName("nome_testemunha[]").forEach((input, index) => {
                const nomeTTestemunha = input.value;
            const relatoTestemunhaCorreto = document.getElementsByName("relato_testemunha[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
const cpfTTestemunha = document.getElementsByName("cpf_passaporte_testemunha[]")[index]?.value || "N/A"; // Se não houver nom
          
          let textoRelatoTestemunha = relatoTestemunhaCorreto 
          
          const linhas2 = doc.splitTextToSize(textoRelatoTestemunha, 175);
          // Número de linhas geradas
const numeroDeLinhas2 = linhas2.length;
const numeroDeLinhasmultiplcado2 = linhas2.length * 6;

          verificapagina5()
          

          if (y + numeroDeLinhasmultiplcado2 + 15 + 15 > 270) {
            doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(10);
            y = 60; // Reinicia a posição no topo da nova página
    }


          doc.setFont("helvetica", "bold");
          doc.text(`    Relato da testemunha (${index + 1}): ${nomeTTestemunha}`, 100, y, { align: "center" }); 
             doc.line(10, y+1, 200, y+1);
             
            y += 15;
             verificapagina5()
doc.setFont("helvetica", "normal");
doc.text(textoRelatoTestemunha, 20, y, { maxWidth: 175, align: 'justify'});



y += numeroDeLinhas2 * 7;


y += 10;
doc.text(`__________________________________________________`, 100, y-4, { align: "center" });
doc.text(`   ${nomeTTestemunha}`, 100, y, { align: "center" });
y += 5;
doc.text(`  CPF: ${cpfTTestemunha}`, 100, y, { align: "center" });
y += 10;
verificapagina5()
               


});



         //-------------------------------------------------------
function verificapagina6() {
    if (y > 260) {
            doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(10);
            y = 60; // Reinicia a posição no topo da nova página
    }
        }
verificapagina6()


document.getElementsByName("nome_autor[]").forEach((input, index) => {
                const nomeAAutor = input.value;
            const relatoAutorCorreto = document.getElementsByName("relato_autor[]")[index]?.value || "N/A"; // Se não houver nome social, exibe "N/A"
const cpfAutor = document.getElementsByName("cpf_passaporte_autor[]")[index]?.value || "N/A"; // Se não houver nome social, 
          
          let textoRelatoAutor = relatoAutorCorreto 
          
          const linhas3 = doc.splitTextToSize(textoRelatoAutor, 175);
          // Número de linhas geradas
const numeroDeLinhas3 = linhas3.length;
const numeroDeLinhasmultiplcado3 = linhas3.length * 6;

          verificapagina6()
          

          if (y + numeroDeLinhasmultiplcado3 + 15 +15 > 270) {
            doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(10);
            y = 60; // Reinicia a posição no topo da nova página
    }


          doc.setFont("helvetica", "bold");
          doc.text(`   Relato do Autor do fato (${index + 1}) : ${nomeAAutor}`, 100, y, { align: "center" }); 
             doc.line(10, y+1, 200, y+1);
             
            y += 15;
             verificapagina6()
doc.setFont("helvetica", "normal");
doc.text(textoRelatoAutor, 20, y, { maxWidth: 175, align: 'justify'});



y += numeroDeLinhas3 * 7;

y += 10;
doc.text(`__________________________________________________`, 100, y-4, { align: "center" });
doc.text(`   ${nomeAAutor}`, 100, y, { align: "center" });
y += 5;
doc.text(`  CPF: ${cpfAutor}`, 100, y, { align: "center" });
y += 10;
verificapagina6()
               


});

doc.setFont("helvetica", "bold");
doc.setFont("helvetica", "normal");

  //aqui começa a conclusão policial

  doc.addPage(); // Cria uma nova página
            adicionarCabecalho()
            adicionarRodape()
            doc.setFontSize(12);
            const artigoo = document.getElementById("artigo").value
           // const condicoesFisicas = document.getElementById("local_trabalho_autor").value
           
y = 60    

            doc.text(`  CONCLUSÃO POLICIAL`, 100, y, { align: "center" });
            doc.setFontSize(10);
y += 20
            let textoconclusaopolicial = `Diante das circunstâncias e de tudo o que foi relatado, resta acrescentar que o autor infringiu o artigo n.º ${artigoo} da ${lei}, Nada mais havendo a tratar, deu-se por findo o presente termo circunstanciado de ocorrência que vai devidamente assinado por uma testemunha (se houver), pelo autor e por mim, condutor da ocorrência, que o digitei.                                                                                                                                                                                                                                                              E pelo fato do autor ter se comprometido a comparecer ao Juizado Especial Criminal da Comarca de ______/MT, este foi liberado sem lesões corporais, após a assinatura do termo de compromisso.`;

            


doc.setFont("helvetica", "normal");
doc.text(textoconclusaopolicial, 20, y, { maxWidth: 175, align: 'justify'});

doc.text("Em Desenvolvimento...", 20, y + 80, { maxWidth: 175, align: 'justify'});
      
            //const relatoAutorr = document.getElementById('relato_autor').value;
//doc.text(`   RELATO DO AUTOR DO FATO: ${relatoAutorr}`, 20, y);


            doc.save("tco.pdf");
        }
    </script>

</body>

</html>
